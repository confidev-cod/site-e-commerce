{"ast":null,"code":"import { actions } from './actions';\nconst saveToLocalStorage = object => {\n  localStorage.setItem(\"items\", JSON.stringify(object));\n};\nconst initialState = {\n  items: JSON.parse(localStorage.getItem(\"items\")) !== null ? JSON.parse(localStorage.getItem(\"items\")) : []\n};\nexport default function onlineStoreApp(state = initialState, action) {\n  switch (action.type) {\n    case actions.ADD_TO_CART:\n      return Object.assign({}, state, {\n        items: [...state.items, action.payload]\n      });\n    case actions.UPDATE_CART:\n      console.log(`item : ${action.payload.id}`);\n      return Object.assign({}, state, {\n        items: state.items.map(item => {\n          return item.id === action.payload.id ? Object.assign({}, item, {\n            quantity: action.payload.quantity\n          }) : item;\n        })\n      });\n    case actions.REMOVE_FROM_CART:\n      console.log(state.items);\n      return Object.assign({}, state, {\n        items: state.items.filter(item => {\n          return item.id != action.payload;\n        })\n      });\n    case actions.SAVE_CART:\n      saveToLocalStorage(action.payload.items);\n      return state;\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["actions","saveToLocalStorage","object","localStorage","setItem","JSON","stringify","initialState","items","parse","getItem","onlineStoreApp","state","action","type","ADD_TO_CART","Object","assign","payload","UPDATE_CART","console","log","id","map","item","quantity","REMOVE_FROM_CART","filter","SAVE_CART"],"sources":["/home/siham/workspace/starter_project_react/src/app/lib/reducers.js"],"sourcesContent":["import { actions } from './actions'\n\n\nconst saveToLocalStorage = object => {\n    localStorage.setItem(\"items\", JSON.stringify(object))\n}\nconst initialState = {\n    items : JSON.parse(localStorage.getItem(\"items\")) !== null ? JSON.parse(localStorage.getItem(\"items\")) : []\n}\n\nexport default function onlineStoreApp(state = initialState, action) {\n    switch(action.type) {\n        case actions.ADD_TO_CART : return Object.assign({}, state, { items : [...state.items, action.payload]});\n        case actions.UPDATE_CART : \n        console.log(`item : ${action.payload.id}`)\n        return Object.assign({}, state, {\n            items : state.items.map(item => {\n                return item.id === action.payload.id ?\n                Object.assign({}, item, {\n                    quantity: action.payload.quantity\n                }) : item;\n            }) \n        })\n        case actions.REMOVE_FROM_CART : \n        console.log(state.items)\n        return Object.assign({}, state,  {\n            items : state.items.filter(item => {\n                return item.id != action.payload\n            })\n        })\n        case actions.SAVE_CART: \n        saveToLocalStorage(action.payload.items)\n        return state\n        default: return state\n    }\n    \n}"],"mappings":"AAAA,SAASA,OAAO,QAAQ,WAAW;AAGnC,MAAMC,kBAAkB,GAAGC,MAAM,IAAI;EACjCC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEC,IAAI,CAACC,SAAS,CAACJ,MAAM,CAAC,CAAC;AACzD,CAAC;AACD,MAAMK,YAAY,GAAG;EACjBC,KAAK,EAAGH,IAAI,CAACI,KAAK,CAACN,YAAY,CAACO,OAAO,CAAC,OAAO,CAAC,CAAC,KAAK,IAAI,GAAGL,IAAI,CAACI,KAAK,CAACN,YAAY,CAACO,OAAO,CAAC,OAAO,CAAC,CAAC,GAAG;AAC7G,CAAC;AAED,eAAe,SAASC,cAAcA,CAACC,KAAK,GAAGL,YAAY,EAAEM,MAAM,EAAE;EACjE,QAAOA,MAAM,CAACC,IAAI;IACd,KAAKd,OAAO,CAACe,WAAW;MAAG,OAAOC,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEL,KAAK,EAAE;QAAEJ,KAAK,EAAG,CAAC,GAAGI,KAAK,CAACJ,KAAK,EAAEK,MAAM,CAACK,OAAO;MAAC,CAAC,CAAC;IACvG,KAAKlB,OAAO,CAACmB,WAAW;MACxBC,OAAO,CAACC,GAAG,CAAC,UAAUR,MAAM,CAACK,OAAO,CAACI,EAAE,EAAE,CAAC;MAC1C,OAAON,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEL,KAAK,EAAE;QAC5BJ,KAAK,EAAGI,KAAK,CAACJ,KAAK,CAACe,GAAG,CAACC,IAAI,IAAI;UAC5B,OAAOA,IAAI,CAACF,EAAE,KAAKT,MAAM,CAACK,OAAO,CAACI,EAAE,GACpCN,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEO,IAAI,EAAE;YACpBC,QAAQ,EAAEZ,MAAM,CAACK,OAAO,CAACO;UAC7B,CAAC,CAAC,GAAGD,IAAI;QACb,CAAC;MACL,CAAC,CAAC;IACF,KAAKxB,OAAO,CAAC0B,gBAAgB;MAC7BN,OAAO,CAACC,GAAG,CAACT,KAAK,CAACJ,KAAK,CAAC;MACxB,OAAOQ,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEL,KAAK,EAAG;QAC7BJ,KAAK,EAAGI,KAAK,CAACJ,KAAK,CAACmB,MAAM,CAACH,IAAI,IAAI;UAC/B,OAAOA,IAAI,CAACF,EAAE,IAAIT,MAAM,CAACK,OAAO;QACpC,CAAC;MACL,CAAC,CAAC;IACF,KAAKlB,OAAO,CAAC4B,SAAS;MACtB3B,kBAAkB,CAACY,MAAM,CAACK,OAAO,CAACV,KAAK,CAAC;MACxC,OAAOI,KAAK;IACZ;MAAS,OAAOA,KAAK;EACzB;AAEJ","ignoreList":[]},"metadata":{},"sourceType":"module"}